{% extends "aria/base.html" %}
{% load static %}

{% block includes %}
    {% include "util/maps.html" %}
{% endblock %}
{% block javascript %}
    <script src="{% static './aria/js/create/plot.js' %}" type="text/javascript"></script>
{% endblock %}

{% block content %}
    <div class="container-fluid p-0 min-vh-100">
        <div class="map col-9" id="mapid"></div>
        <div class="row justify-content-end no-gutters min-vh-100">
            <div class="col-3" id="plot-details">
                <div class="accordion" id="plots-accordion">
                    {% for plot in plots %}
                        <div class="card">
                            <div class="card-header" id="heading-{{ plot.num }}">
                                <h2 class="mb-0">
                                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapse-plot-{{ plot.num }}" aria-expanded="true" aria-controls="collapse-plot-{{ plot.num }}">
                                        {{ plot.name }}
                                    </button>
                                </h2>
                            </div>
                            <div id="collapse-plot-{{ plot.num }}" class="collapse" aria-labelledby="heading-plot-{{ plot.num }}" data-parent="#plots-accordion">
                                <div class="card-body">
                                    <input type="hidden" id="calculated-area-{{ plot.num }}" value="{{ plot.area }}">
                                    <div class="card-body">
                                        <div id="area">
                                            <p>Area: <span id="formatted-area-{{ plot.num }}"></span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="align-bottom">
                    <div id="unit-buttons" class="btn-group btn-group-toggle" role="group" aria-label="Units">
                        <label class="btn btn-primary btn-sm">
                            <input type="radio" name="units" value="acres" checked="checked">Acres
                        </label>
                        <label class="btn btn-primary btn-sm">
                            <input type="radio" name="units" value="meters">Square Meters
                        </label>
                        <label class="btn btn-primary btn-sm">
                            <input type="radio" name="units" value="hectares">Hectares
                        </label>
                        <label class="btn btn-primary btn-sm">
                            <input type="radio" name="units" value="miles">Square Miles
                        </label>
                    </div>
                    <button id="save-area" type="button" class="btn btn-secondary" onclick="">Save</button>
                </div>
            </div>
        </div>
    </div>
    {{ plots | json_script:"plots-data" }}
{% endblock %}